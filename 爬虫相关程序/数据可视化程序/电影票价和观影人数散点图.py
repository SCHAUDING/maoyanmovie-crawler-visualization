from pyecharts import options as opts
from pyecharts.charts import Scatter

# 所有数据
data = [
{'平均票价': 22.056992, '场均人次': 61},
{'平均票价': 29.357342, '场均人次': 16},
{'平均票价': 29.397415, '场均人次': 24},
{'平均票价': 29.965164, '场均人次': 40},
{'平均票价': 29.967405, '场均人次': 15},
{'平均票价': 30.02213, '场均人次': 17},
{'平均票价': 30.073994, '场均人次': 22},
{'平均票价': 30.196854, '场均人次': 40},
{'平均票价': 30.444935, '场均人次': 24},
{'平均票价': 30.736097, '场均人次': 15},
{'平均票价': 30.987238, '场均人次': 33},
{'平均票价': 31.217215, '场均人次': 22},
{'平均票价': 31.226898, '场均人次': 12},
{'平均票价': 31.282188, '场均人次': 18},
{'平均票价': 31.431118, '场均人次': 18},
{'平均票价': 31.459543, '场均人次': 38},
{'平均票价': 31.537039, '场均人次': 28},
{'平均票价': 31.550077, '场均人次': 31},
{'平均票价': 31.580196, '场均人次': 33},
{'平均票价': 31.746136, '场均人次': 33},
{'平均票价': 31.765776, '场均人次': 16},
{'平均票价': 31.801163, '场均人次': 40},
{'平均票价': 31.816536, '场均人次': 32},
{'平均票价': 31.956974, '场均人次': 34},
{'平均票价': 31.97473, '场均人次': 36},
{'平均票价': 32.14557, '场均人次': 27},
{'平均票价': 32.15511, '场均人次': 33},
{'平均票价': 32.32158, '场均人次': 18},
{'平均票价': 32.365917, '场均人次': 31},
{'平均票价': 32.372185, '场均人次': 16},
{'平均票价': 32.42341, '场均人次': 45},
{'平均票价': 32.49085, '场均人次': 20},
{'平均票价': 32.674587, '场均人次': 39},
{'平均票价': 32.779945, '场均人次': 26},
{'平均票价': 32.852345, '场均人次': 40},
{'平均票价': 32.934837, '场均人次': 23},
{'平均票价': 33.010834, '场均人次': 12},
{'平均票价': 33.112507, '场均人次': 27},
{'平均票价': 33.156654, '场均人次': 11},
{'平均票价': 33.219936, '场均人次': 9},
{'平均票价': 33.303165, '场均人次': 46},
{'平均票价': 33.37043, '场均人次': 34},
{'平均票价': 33.400208, '场均人次': 25},
{'平均票价': 33.49183, '场均人次': 17},
{'平均票价': 33.51533, '场均人次': 24},
{'平均票价': 33.531403, '场均人次': 24},
{'平均票价': 33.58069, '场均人次': 28},
{'平均票价': 33.640533, '场均人次': 25},
{'平均票价': 33.90266, '场均人次': 21},
{'平均票价': 33.99673, '场均人次': 25},
{'平均票价': 34.058384, '场均人次': 20},
{'平均票价': 34.11227, '场均人次': 16},
{'平均票价': 34.19796, '场均人次': 18},
{'平均票价': 34.23472, '场均人次': 25},
{'平均票价': 34.260075, '场均人次': 25},
{'平均票价': 34.320858, '场均人次': 27},
{'平均票价': 34.347466, '场均人次': 30},
{'平均票价': 34.397697, '场均人次': 11},
{'平均票价': 34.440758, '场均人次': 36},
{'平均票价': 34.448685, '场均人次': 23},
{'平均票价': 34.597515, '场均人次': 12},
{'平均票价': 34.659386, '场均人次': 34},
{'平均票价': 34.66687, '场均人次': 22},
{'平均票价': 34.683666, '场均人次': 20},
{'平均票价': 34.69147, '场均人次': 15},
{'平均票价': 34.711494, '场均人次': 25},
{'平均票价': 34.733532, '场均人次': 25},
{'平均票价': 34.74073, '场均人次': 24},
{'平均票价': 34.814323, '场均人次': 26},
{'平均票价': 34.81579, '场均人次': 13},
{'平均票价': 34.856956, '场均人次': 8},
{'平均票价': 34.8847, '场均人次': 18},
{'平均票价': 34.891582, '场均人次': 9},
{'平均票价': 34.902664, '场均人次': 21},
{'平均票价': 34.942345, '场均人次': 14},
{'平均票价': 34.9678, '场均人次': 16},
{'平均票价': 34.987694, '场均人次': 25},
{'平均票价': 34.990177, '场均人次': 11},
{'平均票价': 35.06071, '场均人次': 29},
{'平均票价': 35.06266, '场均人次': 28},
{'平均票价': 35.066303, '场均人次': 14},
{'平均票价': 35.080605, '场均人次': 16},
{'平均票价': 35.086987, '场均人次': 43},
{'平均票价': 35.14003, '场均人次': 24},
{'平均票价': 35.14932, '场均人次': 20},
{'平均票价': 35.15436, '场均人次': 16},
{'平均票价': 35.158714, '场均人次': 21},
{'平均票价': 35.184887, '场均人次': 18},
{'平均票价': 35.19523, '场均人次': 16},
{'平均票价': 35.231415, '场均人次': 27},
{'平均票价': 35.246487, '场均人次': 23},
{'平均票价': 35.25194, '场均人次': 16},
{'平均票价': 35.352978, '场均人次': 27},
{'平均票价': 35.41724, '场均人次': 11},
{'平均票价': 35.434902, '场均人次': 13},
{'平均票价': 35.44802, '场均人次': 10},
{'平均票价': 35.466118, '场均人次': 15},
{'平均票价': 35.469856, '场均人次': 30},
{'平均票价': 35.48468, '场均人次': 13},
{'平均票价': 35.510277, '场均人次': 17},
{'平均票价': 35.54714, '场均人次': 23},
{'平均票价': 35.558052, '场均人次': 8},
{'平均票价': 35.56216, '场均人次': 15},
{'平均票价': 35.564896, '场均人次': 16},
{'平均票价': 35.56586, '场均人次': 31},
{'平均票价': 35.594273, '场均人次': 37},
{'平均票价': 35.59753, '场均人次': 23},
{'平均票价': 35.606182, '场均人次': 25},
{'平均票价': 35.636642, '场均人次': 36},
{'平均票价': 35.66835, '场均人次': 15},
{'平均票价': 35.692463, '场均人次': 23},
{'平均票价': 35.697067, '场均人次': 19},
{'平均票价': 35.726177, '场均人次': 24},
{'平均票价': 35.800556, '场均人次': 14},
{'平均票价': 35.81335, '场均人次': 22},
{'平均票价': 35.826714, '场均人次': 29},
{'平均票价': 35.896545, '场均人次': 19},
{'平均票价': 35.90006, '场均人次': 17},
{'平均票价': 35.910618, '场均人次': 11},
{'平均票价': 35.916782, '场均人次': 17},
{'平均票价': 35.99165, '场均人次': 16},
{'平均票价': 36.05231, '场均人次': 15},
{'平均票价': 36.069355, '场均人次': 17},
{'平均票价': 36.072906, '场均人次': 14},
{'平均票价': 36.10703, '场均人次': 22},
{'平均票价': 36.174625, '场均人次': 25},
{'平均票价': 36.200695, '场均人次': 40},
{'平均票价': 36.20821, '场均人次': 23},
{'平均票价': 36.217808, '场均人次': 16},
{'平均票价': 36.29202, '场均人次': 17},
{'平均票价': 36.301155, '场均人次': 16},
{'平均票价': 36.30264, '场均人次': 9},
{'平均票价': 36.31127, '场均人次': 27},
{'平均票价': 36.341267, '场均人次': 11},
{'平均票价': 36.35835, '场均人次': 18},
{'平均票价': 36.361706, '场均人次': 16},
{'平均票价': 36.40283, '场均人次': 18},
{'平均票价': 36.547977, '场均人次': 27},
{'平均票价': 36.648827, '场均人次': 30},
{'平均票价': 36.662884, '场均人次': 35},
{'平均票价': 36.668804, '场均人次': 43},
{'平均票价': 36.7024, '场均人次': 18},
{'平均票价': 36.70751, '场均人次': 25},
{'平均票价': 36.772095, '场均人次': 24},
{'平均票价': 36.772423, '场均人次': 24},
{'平均票价': 36.77872, '场均人次': 28},
{'平均票价': 36.802353, '场均人次': 9},
{'平均票价': 36.820988, '场均人次': 15},
{'平均票价': 36.847546, '场均人次': 13},
{'平均票价': 36.93777, '场均人次': 23},
{'平均票价': 36.99075, '场均人次': 21},
{'平均票价': 36.99133, '场均人次': 8},
{'平均票价': 37.072163, '场均人次': 25},
{'平均票价': 37.08066, '场均人次': 61},
{'平均票价': 37.086636, '场均人次': 8},
{'平均票价': 37.13129, '场均人次': 11},
{'平均票价': 37.16108, '场均人次': 41},
{'平均票价': 37.17914, '场均人次': 14},
{'平均票价': 37.234848, '场均人次': 24},
{'平均票价': 37.240368, '场均人次': 29},
{'平均票价': 37.26934, '场均人次': 12},
{'平均票价': 37.273075, '场均人次': 17},
{'平均票价': 37.40332, '场均人次': 9},
{'平均票价': 37.411068, '场均人次': 24},
{'平均票价': 37.429123, '场均人次': 25},
{'平均票价': 37.44387, '场均人次': 9},
{'平均票价': 37.59066, '场均人次': 14},
{'平均票价': 37.62571, '场均人次': 9},
{'平均票价': 37.63522, '场均人次': 19},
{'平均票价': 37.799377, '场均人次': 42},
{'平均票价': 37.834686, '场均人次': 14},
{'平均票价': 37.893658, '场均人次': 8},
{'平均票价': 38.033257, '场均人次': 7},
{'平均票价': 38.10905, '场均人次': 35},
{'平均票价': 38.17402, '场均人次': 33},
{'平均票价': 38.24297, '场均人次': 19},
{'平均票价': 38.287125, '场均人次': 21},
{'平均票价': 38.28785, '场均人次': 33},
{'平均票价': 38.314194, '场均人次': 44},
{'平均票价': 38.33633, '场均人次': 20},
{'平均票价': 38.56635, '场均人次': 12},
{'平均票价': 38.591774, '场均人次': 23},
{'平均票价': 38.62036, '场均人次': 9},
{'平均票价': 38.65716, '场均人次': 11},
{'平均票价': 38.662636, '场均人次': 23},
{'平均票价': 38.70422, '场均人次': 8},
{'平均票价': 38.75535, '场均人次': 19},
{'平均票价': 38.757133, '场均人次': 38},
{'平均票价': 38.80738, '场均人次': 10},
{'平均票价': 38.843933, '场均人次': 23},
{'平均票价': 38.856926, '场均人次': 42},
{'平均票价': 38.8606, '场均人次': 7},
{'平均票价': 38.886307, '场均人次': 7},
{'平均票价': 39.02599, '场均人次': 7},
{'平均票价': 39.03554, '场均人次': 22},
{'平均票价': 39.05371, '场均人次': 29},
{'平均票价': 39.113647, '场均人次': 18},
{'平均票价': 39.149124, '场均人次': 36},
{'平均票价': 39.20782, '场均人次': 36},
{'平均票价': 39.257664, '场均人次': 9},
{'平均票价': 39.27044, '场均人次': 8},
{'平均票价': 39.27593, '场均人次': 32},
{'平均票价': 39.293274, '场均人次': 13},
{'平均票价': 39.348915, '场均人次': 8},
{'平均票价': 39.397194, '场均人次': 34},
{'平均票价': 39.428986, '场均人次': 38},
{'平均票价': 39.43557, '场均人次': 49},
{'平均票价': 39.486576, '场均人次': 7},
{'平均票价': 39.545963, '场均人次': 25},
{'平均票价': 39.74682, '场均人次': 33},
{'平均票价': 39.790684, '场均人次': 19},
{'平均票价': 39.999035, '场均人次': 29},
{'平均票价': 40.039875, '场均人次': 30},
{'平均票价': 40.081097, '场均人次': 7},
{'平均票价': 40.226612, '场均人次': 41},
{'平均票价': 40.256683, '场均人次': 10},
{'平均票价': 40.26582, '场均人次': 37},
{'平均票价': 40.411037, '场均人次': 38},
{'平均票价': 40.460045, '场均人次': 7},
{'平均票价': 40.519386, '场均人次': 6},
{'平均票价': 40.556633, '场均人次': 7},
{'平均票价': 40.640205, '场均人次': 38},
{'平均票价': 40.663986, '场均人次': 10},
{'平均票价': 40.71143, '场均人次': 18},
{'平均票价': 40.718327, '场均人次': 28},
{'平均票价': 40.751606, '场均人次': 9},
{'平均票价': 41.041557, '场均人次': 7},
{'平均票价': 41.05247, '场均人次': 37},
{'平均票价': 41.193733, '场均人次': 10},
{'平均票价': 41.25766, '场均人次': 7},
{'平均票价': 41.266125, '场均人次': 40},
{'平均票价': 41.316296, '场均人次': 19},
{'平均票价': 41.317425, '场均人次': 10},
{'平均票价': 41.327976, '场均人次': 6},
{'平均票价': 41.3446, '场均人次': 10},
{'平均票价': 41.35338, '场均人次': 28},
{'平均票价': 41.38267, '场均人次': 14},
{'平均票价': 41.39644, '场均人次': 15},
{'平均票价': 41.41531, '场均人次': 18},
{'平均票价': 41.487186, '场均人次': 9},
{'平均票价': 41.529163, '场均人次': 21},
{'平均票价': 41.605843, '场均人次': 12},
{'平均票价': 41.633636, '场均人次': 50},
{'平均票价': 41.6395, '场均人次': 4},
{'平均票价': 41.692364, '场均人次': 25},
{'平均票价': 41.705013, '场均人次': 33},
{'平均票价': 41.7331, '场均人次': 5},
{'平均票价': 41.80155, '场均人次': 54},
{'平均票价': 41.834854, '场均人次': 33},
{'平均票价': 41.857983, '场均人次': 10},
{'平均票价': 41.85894, '场均人次': 8},
{'平均票价': 41.9303, '场均人次': 40},
{'平均票价': 41.96201, '场均人次': 8},
{'平均票价': 41.999992, '场均人次': 13},
{'平均票价': 42.005585, '场均人次': 30},
{'平均票价': 42.115513, '场均人次': 5},
{'平均票价': 42.160744, '场均人次': 6},
{'平均票价': 42.164967, '场均人次': 6},
{'平均票价': 42.22733, '场均人次': 9},
{'平均票价': 42.258656, '场均人次': 8},
{'平均票价': 42.31136, '场均人次': 8},
{'平均票价': 42.32929, '场均人次': 10},
{'平均票价': 42.33687, '场均人次': 14},
{'平均票价': 42.4282, '场均人次': 10},
{'平均票价': 42.4509, '场均人次': 25},
{'平均票价': 42.586273, '场均人次': 24},
{'平均票价': 42.59532, '场均人次': 9},
{'平均票价': 42.801796, '场均人次': 7},
{'平均票价': 42.90325, '场均人次': 10},
{'平均票价': 43.313114, '场均人次': 18},
{'平均票价': 43.417812, '场均人次': 16},
{'平均票价': 43.4587, '场均人次': 16},
{'平均票价': 44.14197, '场均人次': 35},
{'平均票价': 44.596836, '场均人次': 29},
{'平均票价': 44.756565, '场均人次': 24},
{'平均票价': 44.773643, '场均人次': 7},
{'平均票价': 45.45982, '场均人次': 30},
{'平均票价': 45.51828, '场均人次': 22},
{'平均票价': 45.990677, '场均人次': 22},
{'平均票价': 46.25873, '场均人次': 11},
{'平均票价': 46.30252, '场均人次': 19},
{'平均票价': 46.312737, '场均人次': 16},
{'平均票价': 46.383896, '场均人次': 22},
{'平均票价': 46.549366, '场均人次': 11},
{'平均票价': 46.636467, '场均人次': 16},
{'平均票价': 47.265385, '场均人次': 16},
{'平均票价': 47.60254, '场均人次': 29},
{'平均票价': 48.017963, '场均人次': 22},
{'平均票价': 48.021935, '场均人次': 19},
{'平均票价': 48.19243, '场均人次': 14},
{'平均票价': 48.95791, '场均人次': 23},
{'平均票价': 49.286682, '场均人次': 19},
{'平均票价': 49.51212, '场均人次': 24},
{'平均票价': 50.156097, '场均人次': 8},
{'平均票价': 50.772953, '场均人次': 21},
{'平均票价': 52.474125, '场均人次': 17},
{'平均票价': 53.10474, '场均人次': 17}
]
# 提取X轴和Y轴数据
x_data = [d['平均票价'] for d in data]
y_data = [d['场均人次'] for d in data]

# 创建散点图
scatter = (
    Scatter(init_opts=opts.InitOpts(width="100%", height="550px"))  # 设置图表占满屏幕
    .add_xaxis(x_data)
    .add_yaxis(
        "",
        y_data,
        symbol_size=5,
        itemstyle_opts=opts.ItemStyleOpts(color="red"),
        label_opts=opts.LabelOpts(is_show=False)  # 隐藏数字标签
    )
    .set_global_opts(
        title_opts=opts.TitleOpts(
            title="电影票价和观影人数散点图",
            pos_left="center",  # 水平居中
            pos_top="10px"  # 顶部对齐
        ),
        xaxis_opts=opts.AxisOpts(
            name="平均票价(单位:元)",
            type_="value",
            min_=20,
            max_=54,
            interval=1
        ),
        yaxis_opts=opts.AxisOpts(
            name="场均人次(单位:个)",
            type_="value",
            min_=5,
            max_=65,
            interval=5,
        ),
        tooltip_opts=opts.TooltipOpts(formatter="(票价,人数): ({c})")
    )
)

# 渲染图表
scatter.render("猫眼电影票房榜数据可视化/数据可视化图表/电影票价和观影人数散点图.html")